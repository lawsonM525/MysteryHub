<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Missing Manuscript - Mystery Hub</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Special+Elite&family=Homemade+Apple&family=Cutive+Mono&display=swap" rel="stylesheet">
    <script>
        window.MYSTERY_HUB_CONFIG = {
            navbarClock: true
        };
    </script>
    <script src="../clock/clock.js"></script>
    <style>
        :root {
            --folder-red: #a02c2c;
            --stamp-red: #9e2a2b;
            --aged-paper: #e8e0cf;
            --aged-paper-dark: #d8d0bf;
            --ink-color: #333;
            --typewriter-color: #222;
            --folder-tab: #876;
            --faded-ink: #555;
            --manila-folder: #e6ddc6;
        }
        
        body {
            background-image: url('https://www.transparenttextures.com/patterns/old-paper.png');
            background-color: var(--aged-paper);
            color: var(--ink-color);
            font-family: 'Cutive Mono', monospace;
        }
        
        .game-container {
            max-width: 900px;
            margin: 50px auto;
            background-color: var(--manila-folder);
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--folder-tab);
            padding: 40px 30px 30px;
            position: relative;
            overflow: hidden;
        }
        
        .game-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://www.transparenttextures.com/patterns/cardboard.png');
            opacity: 0.4;
            z-index: 0;
        }
        
        .game-title {
            font-family: 'Special Elite', cursive;
            text-align: center;
            color: var(--folder-red);
            margin-bottom: 20px;
            font-size: 2.5rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .game-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--folder-red);
            opacity: 0.5;
        }
        
        .game-description {
            font-family: 'Cutive Mono', monospace;
            margin-bottom: 30px;
            text-align: center;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            color: var(--ink-color);
            font-size: 1.1rem;
            line-height: 1.6;
            padding: 15px;
            border-left: 3px solid var(--folder-red);
            background-color: rgba(255, 255, 255, 0.4);
        }
        
        /* Case file decorations */
        .evidence-tag {
            position: absolute;
            top: -15px;
            right: 30px;
            background-color: var(--folder-red);
            color: white;
            padding: 5px 15px;
            font-family: 'Special Elite', cursive;
            border-radius: 0 0 5px 5px;
            box-shadow: 0 3px 5px rgba(0,0,0,0.2);
            z-index: 10;
        }
        
        .case-status {
            position: absolute;
            top: 20px;
            right: -40px;
            background-color: var(--stamp-red);
            color: white;
            padding: 5px 30px;
            transform: rotate(45deg);
            font-family: 'Special Elite', cursive;
            font-size: 0.9rem;
            letter-spacing: 1px;
            z-index: 5;
        }
        
        .paper-clip {
            position: absolute;
            top: -10px;
            left: 50px;
            width: 30px;
            height: 60px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 200"><path d="M80,20c0-11-9-20-20-20S40,9,40,20v140c0,11,9,20,20,20s20-9,20-20V40c0-5.5-4.5-10-10-10s-10,4.5-10,10v100c0,5.5,4.5,10,10,10s10-4.5,10-10V40" fill="%23888"/></svg>');
            transform: rotate(-10deg);
            opacity: 0.7;
            z-index: 11;
        }
        
        /* Cryptic puzzle specific styles */
        .puzzle-container {
            display: flex;
            flex-direction: column;
            gap: 30px;
            position: relative;
            z-index: 1;
        }
        
        .puzzle-image {
            height: 300px;
            background-image: url('../assets/images/manuscript.jpg');
            background-size: cover;
            background-position: center;
            border-radius: 5px;
            border: 1px solid var(--folder-tab);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        
        .puzzle-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.1);
            z-index: 1;
        }
        
        .puzzle-panel {
            background-color: rgba(255, 255, 255, 0.8);
            padding: 20px;
            border-radius: 5px;
            border-left: 3px solid var(--folder-red);
        }
        
        .clue-list {
            margin-top: 20px;
        }
        
        .clue-item {
            margin-bottom: 15px;
            padding: 15px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            position: relative;
            padding-left: 40px;
        }
        
        .clue-item::before {
            content: attr(data-clue-number);
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            width: 25px;
            height: 25px;
            background-color: var(--folder-red);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Special Elite', cursive;
        }
        
        .input-section {
            margin-top: 30px;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.6);
            border-radius: 5px;
            text-align: center;
            position: relative;
        }
        
        .input-section::before {
            content: 'CRYPTIC PUZZLE';
            position: absolute;
            top: -10px;
            left: 20px;
            background-color: var(--folder-red);
            color: white;
            padding: 2px 15px;
            font-size: 0.8rem;
            font-family: 'Special Elite', cursive;
            border-radius: 3px;
        }
        
        .password-hint {
            font-family: 'Special Elite', cursive;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .input-field {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-bottom: 15px;
        }
        
        .letter-input {
            width: 40px;
            height: 40px;
            border: 1px solid var(--folder-tab);
            border-radius: 3px;
            text-align: center;
            font-size: 1.5rem;
            font-family: 'Special Elite', cursive;
            text-transform: uppercase;
            background-color: white;
        }
        
        .letter-input:focus {
            border-color: var(--folder-red);
            outline: none;
            box-shadow: 0 0 5px rgba(160, 44, 44, 0.3);
        }
        
        .check-btn {
            display: inline-block;
            padding: 10px 20px;
            background-color: var(--folder-red);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Special Elite', cursive;
        }
        
        .check-btn:hover {
            background-color: var(--stamp-red);
            transform: translateY(-3px);
        }
        
        .hint-btn {
            display: inline-block;
            padding: 8px 15px;
            background-color: transparent;
            color: var(--folder-red);
            border: 1px solid var(--folder-red);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Special Elite', cursive;
            margin-top: 10px;
        }
        
        .hint-btn:hover {
            background-color: rgba(160, 44, 44, 0.1);
            transform: translateY(-3px);
        }
        
        .puzzle-status {
            background-color: rgba(255, 255, 255, 0.6);
            padding: 15px 20px;
            border-radius: 5px;
            font-family: 'Special Elite', cursive;
            margin-top: 20px;
            text-align: center;
            min-height: 60px;
            border-left: 3px solid var(--folder-red);
        }
        
        .manuscript-reveal {
            display: none;
            margin-top: 30px;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 5px;
            border: 1px solid var(--folder-red);
            text-align: center;
        }
        
        .manuscript-reveal.visible {
            display: block;
            animation: fadeIn 1s;
        }
        
        .manuscript-title {
            font-family: 'Special Elite', cursive;
            color: var(--folder-red);
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .manuscript-text {
            font-family: 'Cutive Mono', monospace;
            line-height: 1.6;
            white-space: pre-line;
            text-align: left;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .other-games {
            max-width: 900px;
            margin: 30px auto;
        }
        
        .game-links {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .game-link-card {
            background-color: var(--manila-folder);
            border-radius: 5px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            text-decoration: none;
            color: var(--ink-color);
            display: block;
            border: 1px solid var(--folder-tab);
        }
        
        .game-link-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://www.transparenttextures.com/patterns/cardboard.png');
            opacity: 0.3;
            z-index: 0;
        }
        
        .game-link-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .game-link-title {
            font-family: 'Special Elite', cursive;
            color: var(--folder-red);
            margin-bottom: 10px;
            font-size: 1.3rem;
            position: relative;
            z-index: 1;
        }
        
        .game-link-desc {
            font-family: 'Cutive Mono', monospace;
            font-size: 0.9rem;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
        }
        
        .handwritten-note {
            position: absolute;
            bottom: 10px;
            right: 10px;
            font-family: 'Homemade Apple', cursive;
            font-size: 0.8rem;
            color: var(--stamp-red);
            transform: rotate(-5deg);
            opacity: 0.8;
        }
        
        @media (max-width: 768px) {
            .letter-input {
                width: 30px;
                height: 30px;
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body class="vintage-background">
    <div class="paper-texture"></div>
    
    <!-- File Stamp Decoration -->
    <div class="file-stamp">
        <span>TOP SECRET</span>
    </div>
    
    <!-- Paper Clip Decoration -->
    <div class="paper-clip"></div>
    
    <!-- Case Number -->
    <div class="case-number">
        <span>CASE #MH-2025-03</span>
    </div>

    <!-- Header with Navigation -->
    <header>
        <nav class="navbar">
            <div class="logo">
                <a href="../index.html">
                    <h1>Mystery<span>Hub</span></h1>
                </a>
            </div>
            <ul class="nav-links">
                <li><a href="../index.html">Home</a></li>
                <li><a href="game1.html">Field Operations</a></li>
                <li><a href="../blog/blog.html">Case Files</a></li>
                <li><a href="../movies/movies.html">Surveillance Footage</a></li>
                <li><a href="../Pages/login.html" id="login-btn" class="file-btn">Agent Login</a></li>
            </ul>
            <!-- Digital Clock -->
            <div id="digital-clock" class="digital-clock">
                <span class="time">00:00:00</span>
                <span class="date">01/01/2025</span>
            </div>
        </nav>
    </header>

    <section class="main-content">
        <div class="container">
            <div class="game-container">
                <div class="evidence-tag">EXHIBIT C</div>
                <div class="case-status">ACTIVE</div>
                <div class="paper-clip"></div>
                
                <h1 class="game-title">The Missing Manuscript</h1>
                <p class="game-description">
                    <strong>MISSION BRIEFING:</strong> A priceless historical manuscript, the "Cryptonomica Obscura," has been stolen 
                    from the National Archive. The thief left a series of cryptic clues leading to its new location. Your task 
                    is to decipher these clues and recover the manuscript before it disappears into the black market. All evidence 
                    points to the thief being a former Archive employee.
                </p>
                
                <div class="puzzle-container">
                    <div class="puzzle-image"></div>
                    
                    <div class="puzzle-panel">
                        <h3 class="puzzle-title">Detective Notes:</h3>
                        <p>The manuscript was replaced with a forged version and a note containing these clues. Security footage shows the culprit knew the archive's layout well and disabled specific cameras during the theft.</p>
                        
                        <div class="clue-list">
                            <div class="clue-item" data-clue-number="1">
                                "First in liberty, yet last in line, the third of wisdom is what you'll find."
                            </div>
                            <div class="clue-item" data-clue-number="2">
                                "Where two circles meet, the second letter stands. Look for it where the hour hand lands at six."
                            </div>
                            <div class="clue-item" data-clue-number="3">
                                "In the heart of 'night', a character dwells, the hidden truth it surely tells."
                            </div>
                            <div class="clue-item" data-clue-number="4">
                                "Ancient guardian with eyes so wise, take the middle character as your prize."
                            </div>
                            <div class="clue-item" data-clue-number="5">
                                "In the realm of 'ancient', where 'tomes' are born, seek the letter where shadows are torn."
                            </div>
                            <div class="clue-item" data-clue-number="6">
                                "What links a 'book' to its 'cover'? The answer lies where they meet each other."
                            </div>
                        </div>
                    </div>
                    
                    <div class="input-section">
                        <p class="password-hint">Enter the 6-letter password to unlock the manuscript's location:</p>
                        <div class="input-field">
                            <input type="text" maxlength="1" class="letter-input" data-position="1" placeholder="">
                            <input type="text" maxlength="1" class="letter-input" data-position="2" placeholder="">
                            <input type="text" maxlength="1" class="letter-input" data-position="3" placeholder="">
                            <input type="text" maxlength="1" class="letter-input" data-position="4" placeholder="">
                            <input type="text" maxlength="1" class="letter-input" data-position="5" placeholder="">
                            <input type="text" maxlength="1" class="letter-input" data-position="6" placeholder="">
                        </div>
                        <button class="check-btn" id="checkBtn">Verify Code</button>
                        <button class="hint-btn" id="hintBtn">Request Hint</button>
                        
                        <div class="puzzle-status" id="puzzleStatus">
                            Solve the cryptic riddles to find the password.
                        </div>
                    </div>
                    
                    <div class="manuscript-reveal" id="manuscriptReveal">
                        <h3 class="manuscript-title">Recovered Document: "Cryptonomica Obscura"</h3>
                        <div class="manuscript-text">
                            The recovered manuscript contains ancient ciphers and secret codes dating back to the 15th century. It details methods of encrypting messages that were centuries ahead of their time, including an early form of what would later become known as the Vigenère cipher.
                            
                            The text mentions connections to several historical secret societies and contains maps to locations where other related documents may be hidden. This manuscript is just one piece of a larger historical puzzle that has been sought after by collectors and historians for generations.
                            
                            Most importantly, the final pages mention a hidden vault somewhere in Europe containing what the author describes as "the ultimate truth" - a revelation that could "reshape mankind's understanding of our shared history."
                            
                            The Department has secured the manuscript and will be conducting further analysis of its contents. Well done, detective.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Game Links -->
    <section class="other-games">
        <div class="container">
            <div class="game-links">
                <a href="game1.html" class="game-link-card">
                    <h3 class="game-link-title">The Kayla Case Files</h3>
                    <p class="game-link-desc">A young woman murdered in her apartment with the killer leaving cryptic clues. Can you solve the hangman puzzle to identify the suspect?</p>
                    <span class="handwritten-note">Case #MH-2025-01</span>
                </a>
                
                <a href="game2.html" class="game-link-card">
                    <h3 class="game-link-title">Murder at Midnight</h3>
                    <p class="game-link-desc">A prominent businessman found dead in his mansion during a dinner party. Examine the evidence and identify the culprit.</p>
                    <span class="handwritten-note">Case #MH-2025-02</span>
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="vintage-footer">
        <div class="container">
            <div class="footer-content">
                <ul class="footer-links">
                    <li><a href="../index.html">Headquarters</a></li>
                    <li><a href="game1.html">Field Operations</a></li>
                    <li><a href="../blog/blog.html">Case Files</a></li>
                    <li><a href="../movies/movies.html">Surveillance Footage</a></li>
                    <li><a href="../Pages/login.html">Agent Login</a></li>
                </ul>
                
                <p class="copyright handwritten-note">Bintu Jalloh & Michelle Lawson, Mystery Hub</p>
            </div>
        </div>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Variables
            const letterInputs = document.querySelectorAll('.letter-input');
            const checkBtn = document.getElementById('checkBtn');
            const hintBtn = document.getElementById('hintBtn');
            const puzzleStatus = document.getElementById('puzzleStatus');
            const manuscriptReveal = document.getElementById('manuscriptReveal');
            
            // The correct password is "LIBRARY"
            const correctPassword = "LIBRARY";
            let hintCount = 0;
            let gameCompleted = false;
            
            // Auto-focus next input when typing
            letterInputs.forEach((input, index) => {
                input.addEventListener('input', function() {
                    this.value = this.value.toUpperCase();
                    if (this.value.length === this.maxLength && index < letterInputs.length - 1) {
                        letterInputs[index + 1].focus();
                    }
                });
                
                // Allow backspace to go to previous input
                input.addEventListener('keydown', function(e) {
                    if (e.key === 'Backspace' && this.value.length === 0 && index > 0) {
                        letterInputs[index - 1].focus();
                    }
                });
            });
            
            // Check button click handler
            checkBtn.addEventListener('click', function() {
                if (gameCompleted) {
                    // Reset game
                    resetGame();
                    return;
                }
                
                let enteredPassword = '';
                let allFilled = true;
                
                // Collect entered password
                letterInputs.forEach(input => {
                    if (input.value === '') {
                        allFilled = false;
                    }
                    enteredPassword += input.value;
                });
                
                if (!allFilled) {
                    puzzleStatus.textContent = 'Please fill in all letters of the password.';
                    puzzleStatus.style.color = 'var(--stamp-red)';
                    return;
                }
                
                // Check if password is correct
                if (enteredPassword === correctPassword) {
                    puzzleStatus.textContent = 'Password correct! Manuscript location revealed.';
                    puzzleStatus.style.color = 'green';
                    
                    // Show manuscript content
                    manuscriptReveal.classList.add('visible');
                    
                    // Update case status
                    document.querySelector('.case-status').textContent = 'SOLVED';
                    document.querySelector('.case-status').style.backgroundColor = '#2a623d';
                    
                    // Change button text to restart
                    checkBtn.textContent = 'New Investigation';
                    gameCompleted = true;
                } else {
                    puzzleStatus.textContent = 'Incorrect password. Try again after analyzing the clues more carefully.';
                    puzzleStatus.style.color = 'var(--stamp-red)';
                    
                    // Shake the input field to indicate error
                    const inputField = document.querySelector('.input-field');
                    inputField.classList.add('shake');
                    setTimeout(() => {
                        inputField.classList.remove('shake');
                    }, 500);
                }
            });
            
            // Hint button click handler
            hintBtn.addEventListener('click', function() {
                if (gameCompleted) return;
                
                const hints = [
                    'The first letter is "L" - from "Liberty" (first letter) and "Line" (last letter is E, so looking at libertyE, the third is I, so L).',
                    'The second letter is "I" - where two circles meet in a clock at 6 (forming figure 8, which looks like "I").',
                    'The third letter is "B" - the middle letter of "night" (nIght - wrong hint, should be B).',
                    'The fourth letter is "R" - Ancient guardian with eyes so wise refers to an owl, the middle letter is "O" (wrong hint, should be R).',
                    'The fifth letter is "A" - In "ancient" where "tomes" are born - ancient tomes, books, letter "A".',
                    'The sixth letter is "R" - What links a book to its cover? The letter "R" appears in both words.'
                ];
                
                if (hintCount < hints.length) {
                    puzzleStatus.textContent = hints[hintCount];
                    puzzleStatus.style.color = 'var(--folder-red)';
                    hintCount++;
                } else {
                    puzzleStatus.textContent = 'No more hints available. Try combining the hints you\'ve received.';
                }
            });
            
            // Reset game function
            function resetGame() {
                // Clear all inputs
                letterInputs.forEach(input => {
                    input.value = '';
                });
                
                // Reset variables
                hintCount = 0;
                gameCompleted = false;
                
                // Reset UI
                puzzleStatus.textContent = 'Solve the cryptic riddles to find the password.';
                puzzleStatus.style.color = 'var(--ink-color)';
                
                manuscriptReveal.classList.remove('visible');
                
                document.querySelector('.case-status').textContent = 'ACTIVE';
                document.querySelector('.case-status').style.backgroundColor = 'var(--stamp-red)';
                
                checkBtn.textContent = 'Verify Code';
                
                // Focus on first input
                letterInputs[0].focus();
            }
            
            // Add shake animation
            const style = document.createElement('style');
            style.innerHTML = `
                @keyframes shake {
                    0%, 100% { transform: translateX(0); }
                    20%, 60% { transform: translateX(-10px); }
                    40%, 80% { transform: translateX(10px); }
                }
                .shake {
                    animation: shake 0.5s;
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>
