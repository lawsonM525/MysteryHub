<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classified Access - Mystery Hub</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../css/login.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <script>
        window.MYSTERY_HUB_CONFIG = {
            navbarClock: true
        };
    </script>
    <script src="../clock/clock.js"></script>
    <script src="../backend/JS/login.js"></script>
    
    <style>
        /* Flash Messages Styling */
        .flash-messages {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-width: 350px;
        }
        
        .flash-message {
            padding: 15px;
            border-radius: 5px;
            color: white;
            display: flex;
            align-items: center;
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
            animation: slide-in 0.3s ease-out;
            position: relative;
            overflow: hidden;
            font-family: 'Special Elite', cursive;
        }
        
        .flash-message.info {
            background-color: #2196F3;
            border-left: 5px solid #0D47A1;
        }
        
        .flash-message.success {
            background-color: #4CAF50;
            border-left: 5px solid #1B5E20;
        }
        
        .flash-message.error {
            background-color: #F44336;
            border-left: 5px solid #B71C1C;
        }
        
        .flash-message.warning {
            background-color: #FF9800;
            border-left: 5px solid #E65100;
        }
        
        .flash-message i {
            margin-right: 10px;
            font-size: 1.2em;
        }
        
        .flash-message .close-message {
            position: absolute;
            top: 5px;
            right: 5px;
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s;
        }
        
        .flash-message .close-message:hover {
            opacity: 1;
        }
        
        .flash-message.hiding {
            animation: slide-out 0.3s ease-in forwards;
        }
        
        @keyframes slide-in {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slide-out {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
    </style>
    
    <script>
        // Check for login message in sessionStorage when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            const loginMessage = sessionStorage.getItem('loginMessage');
            if (loginMessage) {
                // Display the message
                displayFlashMessage('info', loginMessage);
                // Remove it from sessionStorage to not show it again on refresh
                sessionStorage.removeItem('loginMessage');
            }
        });
        
        // Function to display flash messages
        function displayFlashMessage(type, message, autoHide = true) {
            // Create or get messages container
            let messagesContainer = document.querySelector('.flash-messages');
            if (!messagesContainer) {
                messagesContainer = document.createElement('div');
                messagesContainer.className = 'flash-messages';
                document.body.appendChild(messagesContainer);
            }
            
            // Create message element
            const messageElement = document.createElement('div');
            messageElement.className = `flash-message ${type}`;
            
            // Add icon based on message type
            let icon = 'info-circle';
            if (type === 'success') icon = 'check-circle';
            if (type === 'error') icon = 'exclamation-triangle';
            if (type === 'warning') icon = 'exclamation-circle';
            
            messageElement.innerHTML = `
                <i class="fas fa-${icon}"></i>
                <span>${message}</span>
                <button class="close-message"><i class="fas fa-times"></i></button>
            `;
            
            // Add to container
            messagesContainer.appendChild(messageElement);
            
            // Add close button functionality
            const closeBtn = messageElement.querySelector('.close-message');
            closeBtn.addEventListener('click', function() {
                messageElement.classList.add('hiding');
                setTimeout(() => {
                    messageElement.remove();
                    
                    // If this was the last message, remove the container
                    if (messagesContainer.querySelectorAll('.flash-message').length === 0) {
                        messagesContainer.remove();
                    }
                }, 300);
            });
            
            // Auto-hide after 5 seconds if enabled
            if (autoHide) {
                setTimeout(() => {
                    if (messageElement.parentNode) {
                        messageElement.classList.add('hiding');
                        setTimeout(() => {
                            if (messageElement.parentNode) {
                                messageElement.remove();
                                
                                // If this was the last message, remove the container
                                if (messagesContainer.querySelectorAll('.flash-message').length === 0) {
                                    messagesContainer.remove();
                                }
                            }
                        }, 300);
                    }
                }, 5000);
            }
            
            return messageElement;
        }
    </script>
    
</head>
<body>
    <!-- Header with Navigation -->
    <header>
        <nav class="navbar">
            <div class="logo">
                <a href="../index.html">
                    <h1>Mystery<span>Hub</span></h1>
                </a>
            </div>
            <ul class="nav-links">
                <li><a href="../index.html">Home Base</a></li>
                <li><a href="games/game1.html">Field Operations</a></li>
                <li><a href="blog/blog.html">Case Files</a></li>
                <li><a href="movies/movies.html">Surveillance Footage</a></li>
                <li><a href="login.html" class="active">Login</a></li>
            </ul>
        </nav>
    </header>

    <!-- Login Section -->
    <section class="main-content">
        <div class="container">
            <div class="login-form-container">
                <div class="case-number">CASE FILE #MH-2025-4269</div>
                <div class="file-tab">Confidential</div>
                <div class="paper-clip"></div>
                <div class="stamp">Classified</div>
                <div class="thread-holes">
                    <div class="hole"></div>
                    <div class="hole"></div>
                    <div class="hole"></div>
                    <div class="hole"></div>
                </div>
                
                <h2 class="login-title">AGENT AUTHENTICATION</h2>
                
                <form action="../Backend/Php/login.php" method="POST" class="case-file-form">
                    <div class="form-group">
                        <label class="typed-label" for="username">
                            <i class="fas fa-user"></i> FIELD AGENT CODE:
                        </label>
                        <input type="text" id="username" name="username" required autocomplete="off">
                        <div class="form-note">* Required for access to classified materials</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="typed-label" for="password">
                            <i class="fas fa-lock"></i> SECURITY CLEARANCE:
                        </label>
                        <input type="password" id="password" name="password" required>
                        <div class="form-note">* All access attempts are recorded</div>
                    </div>
                    
                    <button type="submit" class="auth-btn">
                        <i class="fas fa-fingerprint"></i> Verify Identity
                    </button>
                </form>
                
                <div class="register-link">
                    <p>New field operative? <a href="register.html">Request clearance</a></p>
                </div>
                
                <img src="../assets/images/fingerprint.png" alt="Fingerprint" class="fingerprint">
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Navigation</h3>
                    <ul class="footer-links">
                        <li><a href="../index.html">Home Base</a></li>
                        <li><a href="../games/game1.html">Field Operations</a></li>
                        <li><a href="../blog/blog.html">Case Files</a></li>
                        <li><a href="../movies/movies.html">Surveillance Footage</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Legal Notice</h3>
                    <p>All case files contained herein are property of Mystery Hub Investigations. Unauthorized access will be prosecuted.</p>
                </div>
            </div>
            <div class="copyright">
                <p>Mystery Hub | Bintu Jalloh & Michelle Lawson</p>
            </div>
        </div>
    </footer>
 
</body>
</html>
