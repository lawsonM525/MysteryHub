<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Console - Mystery Hub</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../css/admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <script>
        window.MYSTERY_HUB_CONFIG = {
            navbarClock: true
        };
    </script>
    <script src="../clock/clock.js"></script>
    <script src="../Backend/JS/admin.js"></script>
</head>
<body>
    <!-- Header with Navigation -->
    <header>
        <nav class="navbar">
            <div class="logo">
                <a href="../index.html">
                    <h1>Mystery<span>Hub</span></h1>
                </a>
            </div>
            <ul class="nav-links">
                <li><a href="games/game1.html">Field Operations</a></li>
                <li><a href="blog/blog.html">Case Files</a></li>
                <li><a href="movies/movies.html">Evidence Archive</a></li>
            </ul>
         
        </nav>
    </header>

    <!-- Admin Content -->
    <section class="main-content">
        <div class="admin-container">
            <div class="admin-header">
                <h1><i class="fas fa-shield-alt"></i> Administration Console</h1>
                <div class="admin-controls">
                    <div class="clearance-stamp">LEVEL 10 CLEARANCE</div>
                    <button id="admin-logout-btn" class="logout-btn">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
            
            <div class="admin-panel">
                <div class="admin-sidebar">
                    <div class="admin-menu">
                        <div class="menu-item active" data-tab="users">
                            <i class="fas fa-users"></i> Agents
                        </div>
                        <div class="menu-item" data-tab="blogs">
                            <i class="fas fa-book-open"></i> Case Files
                        </div>
                        <div class="menu-item" data-tab="movies">
                            <i class="fas fa-film"></i> Movie Recs
                        </div>
                    </div>
                </div>
                
                <div class="admin-content">
                    <!-- Users Tab -->
                    <div class="tab-content active" id="users">
                        <div class="section-header">
                            <h2>Agent Files</h2>
                            <div class="action-buttons">
                                <button id="add-user-btn" class="action-btn">
                                    <i class="fas fa-user-plus"></i> Add New Agent
                                </button>
                            </div>
                        </div>
                        
                        
                        
                        <div class="blogs-table-container">
                            <table class="admin-table blogs-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Name</th>
                                        <th>Username</th>
                                        <th>Email</th>
                                        <th>Expertise</th>
                                        <th>Join Date</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="user-table-body">
                                    <!-- User data will be loaded here dynamically -->
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- Loading indicator -->
                        <div id="users-loading" class="loading-indicator">
                            <i class="fas fa-circle-notch fa-spin"></i> Loading agents...
                        </div>
                        
                        <!-- No users message -->
                        <div id="no-users-message" class="no-data-message" style="display: none;">
                            <i class="fas fa-user-slash"></i>
                            <p>No agents found.</p>
                        </div>
                    </div>
                    
                    <!-- Blogs Tab -->
                    <div class="tab-content" id="blogs">
                        <div class="section-header">
                            <h2>Case Files Management</h2>
                            <div class="action-buttons">
                                <a href="blog/upload.html" class="action-btn">
                                    <i class="fas fa-plus-circle"></i> Add New Case File
                                </a>
                            </div>
                        </div>
                        
                        
                        <div class="blogs-table-container">
                            <table class="admin-table blogs-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Title</th>
                                        <th>Category</th>
                                        <th>Author</th>
                                        <th>Date</th>
                                
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="blogs-table-body">
                                    <!-- Blog data will be loaded here dynamically -->
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- Loading indicator -->
                        <div id="blogs-loading" class="loading-indicator">
                            <i class="fas fa-circle-notch fa-spin"></i> Loading case files...
                        </div>
                        
                        <!-- No blogs message -->
                        <div id="no-blogs-message" class="no-data-message" style="display: none;">
                            <i class="fas fa-folder-open"></i>
                            <p>No case files found.</p>
                        </div>
                    </div>
                    
                    <!-- Other tabs would go here -->
                    <div class="tab-content" id="games">
                        <h2>Field Operations Management</h2>
                        <p>Coming soon: Manage mystery games and content.</p>
                    </div>
                    
                    <div class="tab-content" id="movies">
                        <h2>Evidence Logs Management</h2>
                        <p>Coming soon: Manage movie recommendations.</p>
                    </div>
                    
                    <div class="tab-content" id="settings">
                        <h2>System Settings</h2>
                        <p>Coming soon: Configure system settings.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- User Modal Forms -->
    <div id="add-user-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-user-plus"></i> Add New Agent</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <form id="add-user-form">
                    <div class="form-group">
                        <label for="firstname">First Name</label>
                        <input type="text" id="firstname" name="firstname" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="lastname">Last Name</label>
                        <input type="text" id="lastname" name="lastname" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" name="username" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="confirm_password">Confirm Password</label>
                        <input type="password" id="confirm_password" name="confirm_password" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="expertise">Field Expertise</label>
                        <select id="expertise" name="expertise" class="form-control" required>
                            <option value="">Select expertise</option>
                            <option value="detective">Field Detective</option>
                            <option value="forensics">Forensic Analysis</option>
                            <option value="profiler">Criminal Profiling</option>
                            <option value="cryptography">Cryptography</option>
                            <option value="surveillance">Surveillance Operations</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="is_admin">Admin Privileges</label>
                        <select id="is_admin" name="is_admin" class="form-control">
                            <option value="0">Regular Agent</option>
                            <option value="1">Admin Agent</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="submit-btn">
                            <i class="fas fa-save"></i> Add Agent
                        </button>
                        <button type="button" class="cancel-btn" id="cancel-add-btn">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div id="edit-user-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-user-edit"></i> Edit Agent</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <form id="edit-user-form">
                    <input type="hidden" id="edit-user-id" name="user_id">
                    <div class="form-group">
                        <label for="edit-firstname">First Name</label>
                        <input type="text" id="edit-firstname" name="firstname" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-lastname">Last Name</label>
                        <input type="text" id="edit-lastname" name="lastname" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-username">Username</label>
                        <input type="text" id="edit-username" name="username" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-email">Email</label>
                        <input type="email" id="edit-email" name="email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-password">Password (leave blank to keep current)</label>
                        <input type="password" id="edit-password" name="password" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="edit-expertise">Field Expertise</label>
                        <select id="edit-expertise" name="expertise" class="form-control" required>
                            <option value="">Select expertise</option>
                            <option value="detective">Field Detective</option>
                            <option value="forensics">Forensic Analysis</option>
                            <option value="profiler">Criminal Profiling</option>
                            <option value="cryptography">Cryptography</option>
                            <option value="surveillance">Surveillance Operations</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="edit-is-admin">Admin Privileges</label>
                        <select id="edit-is-admin" name="is_admin" class="form-control">
                            <option value="0">Regular Agent</option>
                            <option value="1">Admin Agent</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="submit-btn">
                            <i class="fas fa-save"></i> Update Agent
                        </button>
                        <button type="button" class="cancel-btn" id="cancel-edit-btn">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div id="delete-user-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-exclamation-triangle"></i> Confirm Deletion</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this agent from the system?</p>
                <p class="warning-text">This action cannot be undone. All associated data will be permanently removed.</p>
                <input type="hidden" id="delete-user-id">
                <div class="form-actions">
                    <button type="button" class="danger-btn" id="confirm-delete-btn">
                        <i class="fas fa-trash"></i> Delete Agent
                    </button>
                    <button type="button" class="cancel-btn" id="cancel-delete-btn">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Delete confirmation modal for blogs -->
    <div id="delete-blog-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-exclamation-triangle"></i> Delete Case File</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this case file? This action cannot be undone.</p>
                <input type="hidden" id="delete-blog-id">
                <div class="form-actions">
                    <button type="button" class="submit-btn danger-btn" id="confirm-delete-blog-btn">
                        <i class="fas fa-trash-alt"></i> Delete
                    </button>
                    <button type="button" class="cancel-btn" id="cancel-delete-blog-btn">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Flash Message Container -->
    <div class="flash-messages"></div>
    
    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h3>Mystery Hub</h3>
                    <p>Your gateway to interactive mysteries, true crime stories, and detective films.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="../index.html">Home Base</a></li>
                        <li><a href="../games/game1.html">Field Operations</a></li>
                        <li><a href="../blog/blog.html">Case Files</a></li>
                        <li><a href="../movies/movies.html">Evidence Archive</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>Mystery Hub | Bintu Jalloh & Michelle Lawson</p>
            </div>
        </div>
    </footer>

    
</body>
</html>