<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hangman - Who killed Kayla??</title>
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="stylesheet" href="../../css/games.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Special+Elite&family=Homemade+Apple&family=Cutive+Mono&display=swap" rel="stylesheet">
    <script>
        window.MYSTERY_HUB_CONFIG = {
            navbarClock: true
        };
    </script>
    <script src="../clock/clock.js"></script>
</head>
<body class="vintage-background">
    <div class="paper-texture"></div>
     
    <!-- Header with Navigation -->
    <header>
        <nav class="navbar">
            <div class="logo">
                <a href="../../index.html">
                    <h1>Mystery<span>Hub</span></h1>
                </a>
            </div>
            <ul class="nav-links">
                <li><a href="../../index.html">Home Base</a></li>
                <li><a href="game1.html">Field Operations</a></li>
                <li><a href="../blog/blog.html">Case Files</a></li>
                <li><a href="../movies/movies.html">Surveillance Footage</a></li>
                <li><a href="../login.html" class="active">Login</a></li>
            </ul>
        </nav>
    </header>

    <section class="main-content">
        <div class="container">
            <div class="game-container">
                <div class="evidence-tag">EXHIBIT A</div>
                <div class="case-status">ACTIVE</div>
                <div class="paper-clip"></div>
                
                <h1 class="game-title">The Kayla Case Files</h1>
                <p class="game-description">
                    <strong>MISSION BRIEFING:</strong> Kayla Bennett, 23, was found murdered in her apartment on April 12, 2025. 
                    The killer left a series of cryptic clues at the crime scene. Your task is to decipher these clues by 
                    completing this hangman puzzle to reveal the killer's identity. Each incorrect guess brings us closer 
                    to losing crucial evidence. Proceed with caution, detective.
                </p>
                
                <div class="hangman-wrapper">
                    <div class="hangman-left">
                        <div class="word-display" id="wordDisplay">
                            <!-- Letter boxes will be generated here via JavaScript -->
                        </div>
                        
                        <div class="keyboard" id="keyboard">
                            <!-- Keyboard buttons will be generated here via JavaScript -->
                        </div>
                        
                        <div class="game-status" id="gameStatus">
                            Start guessing letters to identify the suspect...
                        </div>
                    </div>
                    
                    <div class="hangman-right">
                        <canvas id="canvas" width="300" height="300"></canvas>
                        
                        <button class="hint-btn" id="hintBtn">Request Evidence <i class="fas fa-lightbulb"></i></button>
                        <button class="new-game-btn" id="newGameBtn">New Investigation</button>
                    </div>
                </div>
                
                <div class="clue-section">
                    <div class="clue-box" data-clue-number="1">
                        Victim's phone revealed frequent communications with a male contact saved as "J" in the weeks before her death.
                    </div>
                    <div class="clue-box" data-clue-number="2">
                        Security camera footage shows a figure in a dark jacket entering Kayla's building at 11:32 PM on the night of the murder.
                    </div>
                    <div class="clue-box" data-clue-number="3">
                        Forensic analysis discovered foreign DNA under the victim's fingernails, suggesting a struggle.
                    </div>
                    <div class="clue-box" data-clue-number="4">
                        An anonymous tip mentioned seeing a red sports car parked outside Kayla's apartment complex on the night of the murder.
                    </div>
                    <div class="clue-box" data-clue-number="5">
                        The medical examiner's report indicates the murder weapon was likely a kitchen knife from the victim's own apartment.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Game Links -->
    <section class="other-games">
        <div class="container">
            <div class="game-links">
                <a href="game2.html" class="game-link-card">
                    <h3 class="game-link-title">Murder at Midnight</h3>
                    <p class="game-link-desc">An interactive crime scene investigation where you must examine evidence and identify the culprit among multiple suspects.</p>
                    <span class="handwritten-note">Case #MH-2025-02</span>
                </a>
                
                <a href="game3.html" class="game-link-card">
                    <h3 class="game-link-title">The Missing Manuscript</h3>
                    <p class="game-link-desc">A valuable historical manuscript has been stolen from a secure museum. Follow the trail of cryptic clues to recover it.</p>
                    <span class="handwritten-note">Case #MH-2025-03</span>
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="vintage-footer">
        <div class="container">
            <div class="footer-content">
                <ul class="footer-links">
                    <li><a href="../index.html">Headquarters</a></li>
                    <li><a href="game1.html">Field Operations</a></li>
                    <li><a href="../blog/blog.html">Case Files</a></li>
                    <li><a href="../movies/movies.html">Surveillance Footage</a></li>
                    <li><a href="../Pages/login.html">Agent Login</a></li>
                </ul>
                
                <p class="copyright handwritten-note">Bintu Jalloh & Michelle Lawson, Mystery Hub</p>
            </div>
        </div>
    </footer>
    
    <script>
        // Hangman Game Logic
        document.addEventListener('DOMContentLoaded', function() {
            // Variables
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            const wordDisplay = document.getElementById('wordDisplay');
            const keyboard = document.getElementById('keyboard');
            const gameStatus = document.getElementById('gameStatus');
            const hintBtn = document.getElementById('hintBtn');
            const newGameBtn = document.getElementById('newGameBtn');
            const clueBoxes = document.querySelectorAll('.clue-box');
            
            let words = ['JACKSON', 'JAMESON', 'JENKINS', 'JOHNSON', 'JACOBSON'];
            let selectedWord = '';
            let guessedLetters = [];
            let wrongGuesses = 0;
            let maxWrongGuesses = 6;
            let currentClueIndex = 0;
            let gameOver = false;
            
            // Initialize the game
            function initGame() {
                selectedWord = words[Math.floor(Math.random() * words.length)];
                guessedLetters = [];
                wrongGuesses = 0;
                gameOver = false;
                
                // Hide all clue boxes
                clueBoxes.forEach(box => {
                    box.classList.remove('visible');
                });
                currentClueIndex = 0;
                
                // Create word display
                createWordDisplay();
                
                // Create keyboard
                createKeyboard();
                
                // Draw empty gallows
                drawHangman();
                
                gameStatus.textContent = 'Start guessing letters to identify the suspect...';
                gameStatus.style.color = 'var(--ink-color)';
            }
            
            // Create word display
            function createWordDisplay() {
                wordDisplay.innerHTML = '';
                for (let i = 0; i < selectedWord.length; i++) {
                    const letterBox = document.createElement('div');
                    letterBox.classList.add('letter-box');
                    letterBox.textContent = guessedLetters.includes(selectedWord[i]) ? selectedWord[i] : '';
                    wordDisplay.appendChild(letterBox);
                }
            }
            
            // Create keyboard
            function createKeyboard() {
                keyboard.innerHTML = '';
                for (let i = 65; i <= 90; i++) {
                    const letter = String.fromCharCode(i);
                    const button = document.createElement('button');
                    button.classList.add('keyboard-btn');
                    button.textContent = letter;
                    
                    if (guessedLetters.includes(letter)) {
                        button.classList.add('disabled');
                        button.disabled = true;
                    }
                    
                    button.addEventListener('click', function() {
                        if (!gameOver && !guessedLetters.includes(letter)) {
                            guessLetter(letter);
                            button.classList.add('disabled');
                            button.disabled = true;
                        }
                    });
                    
                    keyboard.appendChild(button);
                }
            }
            
            // Draw hangman
            function drawHangman() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.lineWidth = 3;
                ctx.strokeStyle = '#333';
                ctx.beginPath();
                
                // Draw gallows
                ctx.moveTo(50, 270);
                ctx.lineTo(250, 270);
                ctx.moveTo(100, 270);
                ctx.lineTo(100, 50);
                ctx.lineTo(200, 50);
                ctx.lineTo(200, 80);
                ctx.stroke();
                
                // Draw hangman parts based on wrong guesses
                if (wrongGuesses >= 1) {
                    // Head
                    ctx.beginPath();
                    ctx.arc(200, 110, 30, 0, Math.PI * 2);
                    ctx.stroke();
                }
                
                if (wrongGuesses >= 2) {
                    // Body
                    ctx.beginPath();
                    ctx.moveTo(200, 140);
                    ctx.lineTo(200, 210);
                    ctx.stroke();
                }
                
                if (wrongGuesses >= 3) {
                    // Left arm
                    ctx.beginPath();
                    ctx.moveTo(200, 160);
                    ctx.lineTo(150, 180);
                    ctx.stroke();
                }
                
                if (wrongGuesses >= 4) {
                    // Right arm
                    ctx.beginPath();
                    ctx.moveTo(200, 160);
                    ctx.lineTo(250, 180);
                    ctx.stroke();
                }
                
                if (wrongGuesses >= 5) {
                    // Left leg
                    ctx.beginPath();
                    ctx.moveTo(200, 210);
                    ctx.lineTo(150, 250);
                    ctx.stroke();
                }
                
                if (wrongGuesses >= 6) {
                    // Right leg
                    ctx.beginPath();
                    ctx.moveTo(200, 210);
                    ctx.lineTo(250, 250);
                    ctx.stroke();
                    
                    // Draw X's for eyes
                    ctx.beginPath();
                    ctx.moveTo(190, 100);
                    ctx.lineTo(180, 110);
                    ctx.moveTo(180, 100);
                    ctx.lineTo(190, 110);
                    
                    ctx.moveTo(220, 100);
                    ctx.lineTo(210, 110);
                    ctx.moveTo(210, 100);
                    ctx.lineTo(220, 110);
                    ctx.stroke();
                }
            }
            
            // Guess letter
            function guessLetter(letter) {
                guessedLetters.push(letter);
                
                if (selectedWord.includes(letter)) {
                    // Correct guess
                    createWordDisplay();
                    
                    // Check if word is complete
                    const isWordComplete = selectedWord.split('').every(char => guessedLetters.includes(char));
                    
                    if (isWordComplete) {
                        gameOver = true;
                        gameStatus.textContent = `Case solved! The killer is ${selectedWord}. Arrest warrant issued.`;
                        gameStatus.style.color = 'green';
                        
                        // Show all clues
                        clueBoxes.forEach(box => {
                            box.classList.add('visible');
                        });
                    }
                } else {
                    // Incorrect guess
                    wrongGuesses++;
                    drawHangman();
                    showNextClue();
                    
                    if (wrongGuesses >= maxWrongGuesses) {
                        gameOver = true;
                        gameStatus.textContent = `Investigation failed. The killer was ${selectedWord}.`;
                        gameStatus.style.color = 'var(--stamp-red)';
                        
                        // Show all clues
                        clueBoxes.forEach(box => {
                            box.classList.add('visible');
                        });
                    } else {
                        gameStatus.textContent = `Wrong guess! ${maxWrongGuesses - wrongGuesses} attempts remaining.`;
                    }
                }
            }
            
            // Show next clue
            function showNextClue() {
                if (currentClueIndex < clueBoxes.length) {
                    clueBoxes[currentClueIndex].classList.add('visible');
                    currentClueIndex++;
                }
            }
            
            // Event listeners
            hintBtn.addEventListener('click', function() {
                if (!gameOver && currentClueIndex < clueBoxes.length) {
                    showNextClue();
                }
            });
            
            newGameBtn.addEventListener('click', function() {
                initGame();
            });
            
            // Start the game
            initGame();
        });
    </script>
</body>
</html>
